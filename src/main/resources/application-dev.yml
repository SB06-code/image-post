# 'dev' 프로필에서는 기본값이 없으므로, 모든 환경 변수가 반드시 주입되어야 합니다.

spring:
  # --- Production DB (e.g., AWS RDS) ---
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    driver-class-name: org.postgresql.Driver

  # --- AWS S3 Settings (io.awspring.cloud v3.x) ---
  cloud:
    aws:
      credentials:
        access-key: ${SPRING_CLOUD_AWS_CREDENTIALS_ACCESS_KEY}
        secret-key: ${SPRING_CLOUD_AWS_CREDENTIALS_SECRET_KEY}
      region:
        # 환경 변수가 없다면 ap-northeast-2를 기본값으로 사용
        static: ${SPRING_CLOUD_AWS_REGION_STATIC:ap-northeast-2}

# S3FileStorageService에서 @Value("${cloud.aws.s3.bucket}")로 주입할 버킷 이름
cloud:
  aws:
    s3:
      bucket: ${CLOUD_AWS_S3_BUCKET}